<div class="profile-setup-container">
  <div class="profile-setup-card">
    <div class="profile-setup-header">
      <div class="header-icon">
        <i class="bi bi-person-gear"></i>
      </div>
      <h1 class="profile-setup-title">Complete Your Profile</h1>
      <p class="profile-setup-subtitle">Help us personalize your experience</p>
    </div>

    <div class="profile-setup-content">
      <form [formGroup]="profileForm" class="setup-form">

        <div class="form-group">
          <label for="name">Company Name *</label>
          <input type="text" id="name" formControlName="name" placeholder="Enter your company name" class="form-input"
            [class.invalid]="profileForm.get('name')?.invalid && profileForm.get('name')?.touched">
          <div class="error-message" *ngIf="profileForm.get('name')?.invalid && profileForm.get('name')?.touched">
            <span *ngIf="profileForm.get('name')?.errors?.['required']">Name is required</span>
            <span *ngIf="profileForm.get('name')?.errors?.['name']">Please enter a valid name address</span>
          </div>
        </div>

        <!-- INPUT FIELD -->
        <div class="mb-3">
          <label class="form-label">Agent Images<span class="text-danger">*</span></label>


          <input type="file"
            [ngClass]="{'border-danger': formValue['image'].errors && formValue['image'].dirty,'form-control': true, 'row':true,'mb-2':true}"
            (change)="fileChangeEvent($event)" #fileInput />

          @if (imageChangedEvent) {
          <image-cropper class="dropzone"
            [ngClass]="{'border border-danger': formValue['image'].errors && formValue['image'].dirty }"
            [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="true" [aspectRatio]="1" format="png"
            (imageCropped)="imageCropped($event)" (imageLoaded)="imageLoaded($event)" (cropperReady)="cropperReady()"
            (loadImageFailed)="loadImageFailed()"></image-cropper>
          }

        </div>
        <!-- INPUT FIELD -->


        <div class="form-group">
          <label for="email">Company Email *</label>
          <input type="email" id="email" formControlName="email" placeholder="Enter your email address"
            class="form-input" [class.invalid]="profileForm.get('email')?.invalid && profileForm.get('email')?.touched">
          <div class="error-message" *ngIf="profileForm.get('email')?.invalid && profileForm.get('email')?.touched">
            <span *ngIf="profileForm.get('email')?.errors?.['required']">Email is required</span>
            <span *ngIf="profileForm.get('email')?.errors?.['email']">Please enter a valid email address</span>
          </div>
        </div>



        <div class="form-group">
          <label for="phoneNumber">Contact Phone</label>
          <input type="tel" id="phoneNumber" formControlName="phoneNumber" placeholder="Enter your phone number"
            class="form-input">
        </div>

        <div class="form-group">
          <label for="address">Address</label>
          <input type="text" id="address" formControlName="address" placeholder="Enter your address" class="form-input">
        </div>

        <div class="form-group">
          <label for="website">Website</label>
          <input type="text" id="website" formControlName="website" placeholder="Enter your website URI (e.g., example)"
            class="form-input">
        </div>
      </form>

      <div class="setup-actions">
        <button class="next-btn" (click)="goToTemplates()">
          <i class="bi bi-arrow-right"></i>
          Next
        </button>
      </div>
    </div>

    <div class="profile-setup-footer">
      <p>You can update your profile anytime from your account settings</p>
    </div>
  </div>
</div>